<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AURA by May Roga LLC</title>
    <style>
        body { font-family: 'Segoe UI', Arial; background: #000; color: #fff; margin: 0; text-align: center; overflow-x: hidden; }
        
        /* Marquesina Azul Vibrante Continua */
        .marquee { background: #001a33; border-bottom: 2px solid #00d4ff; overflow: hidden; white-space: nowrap; padding: 15px 0; }
        .marquee-content { display: inline-block; animation: scroll 35s linear infinite; color: #00d4ff; font-weight: 900; font-size: 1.2rem; }
        @keyframes scroll { from { transform: translateX(0); } to { transform: translateX(-50%); } }

        .container { max-width: 900px; margin: auto; padding: 25px; border: 3px solid #00d4ff; border-radius: 40px; background: #080808; margin-top: 10px; }
        .yellow { color: #ffff00; font-weight: bold; font-size: 1.5rem; }
        
        .search-hero { font-size: 1.5rem; color: #00d4ff; font-weight: bold; margin: 20px 0; border: 1px dashed #00d4ff; padding: 20px; border-radius: 20px; }

        /* Muro de Pago */
        #paywall { display: block; }
        #sistema-aura { display: none; }

        .plan-card { border: 2px solid #00d4ff; border-radius: 20px; padding: 15px; margin: 10px; display: inline-block; width: 28%; vertical-align: top; background: #0a0a0a; }
        .btn-pay { background: #00d4ff; color: #000; border: none; padding: 15px; border-radius: 12px; font-weight: bold; cursor: pointer; width: 100%; font-size: 1.1rem; }
        
        input { padding: 18px; border-radius: 15px; border: 2px solid #00d4ff; background: #000; color: #fff; margin: 10px; font-size: 1.2rem; width: 85%; }
        
        .mic-btn { background: #111; border: 2px solid #00d4ff; color: #00d4ff; width: 80px; height: 80px; border-radius: 50%; font-size: 3rem; cursor: pointer; margin: 15px; }

        /* Donaci√≥n Independiente */
        .donacion-box { border: 5px solid #ffff00; border-radius: 35px; padding: 30px; margin-top: 40px; background: #000; }
        .btn-donar { background: #ffff00; color: #000; border: none; padding: 20px; border-radius: 15px; font-weight: 900; width: 100%; cursor: pointer; font-size: 1.6rem; }
        
        .res-box { text-align: left; padding: 25px; border: 1px dashed #00d4ff; background: #050505; margin-top: 25px; font-size: 1.2rem; line-height: 1.6; }
        
        /* Funciones de Valor Agregado */
        .export-bar { margin-top: 20px; display: none; }
        .btn-ex { padding: 15px 25px; border-radius: 10px; border: none; font-weight: bold; cursor: pointer; margin: 5px; }
        .wa { background: #25d366; color: white; } .em { background: #00d4ff; color: black; } .pd { background: #ff4444; color: white; }
    </style>
</head>
<body>

<div class="marquee">
    <div class="marquee-content">
        üõ°Ô∏è AURA BY MAY ROGA LLC: PROTEGEMOS TU BOLSILLO ‚Ä¢ SI NO TIENES SEGURO, EST√ÅS EN EL LUGAR CORRECTO ‚Ä¢ SI TIENES SEGURO PERO TE CUBRE POCO, AQU√ç GANAS DINERO ‚Ä¢ SI BUSCAS LA EXCELENCIA M√âDICA Y EL PRESTIGIO, TE DAMOS LO MEJOR DE USA ‚Ä¢ NO M√ÅS PRECIOS OCULTOS ‚Ä¢ TRANSPARENCIA TOTAL PARA TODOS ‚Ä¢ 
    </div>
</div>

<div class="container">
    <h1 style="color: #00d4ff; font-size: 4rem; margin: 0;">AURA</h1>
    <div class="yellow">by May Roga LLC</div>

    <div class="search-hero">
        ESTIMADO DE PRECIOS DE SERVICIOS DE SALUD EN TODA USA, PARA TI.<br>
        BUSCA, ENT√âRATE O PREGUNTA AQU√ç.
    </div>

    <div id="paywall">
        <div class="plan-card"><h4>C. R√ÅPIDA</h4><p>$5.99</p><button class="btn-pay" onclick="pagar('rapido')">PAGAR ACCESO</button></div>
        <div class="plan-card"><h4>STANDARD</h4><p>$9.99</p><button class="btn-pay" onclick="pagar('standard')">PAGAR ACCESO</button></div>
        <div class="plan-card"><h4>ESPECIAL</h4><p>$19.99</p><button class="btn-pay" onclick="pagar('special')">PAGAR ACCESO</button></div>

        <div style="margin-top:35px; border-top: 1px solid #333; padding-top: 25px;">
            <p class="yellow">ACCESO ADMINISTRADOR / DUE√ëO</p>
            <input type="text" id="adm_u" placeholder="Usuario">
            <input type="password" id="adm_p" placeholder="Contrase√±a">
            <button class="btn-pay" style="width:250px;" onclick="validaAdmin()">ENTRAR AL SISTEMA</button>
        </div>
    </div>

    <div id="sistema-aura">
        <div style="margin-bottom: 20px;">
            <button onclick="setLang('es')" class="btn-ex em">ESPA√ëOL</button>
            <button onclick="setLang('en')" class="btn-ex em">ENGLISH</button>
            <button onclick="setLang('ht')" class="btn-ex em">KREY√íL</button>
        </div>
        
        <button onclick="listen()" class="mic-btn">üé§</button>
        <p>Toca el micr√≥fono para hablar con Aura</p>
        
        <input type="text" id="q" placeholder="¬øQu√© necesitas ahorrar?">
        <button class="btn-pay" onclick="getEstimate()" style="font-size:1.6rem; height: 70px;">REVELAR MI AHORRO</button>
        
        <div id="res" class="res-box"></div>
        
        <button id="btn-read" style="display:none; background:#ffff00; color:#000; padding:15px; border-radius:15px; width:100%; font-weight:900; margin-top:10px;" onclick="readOut()">üîä ESCUCHAR REPORTE DE AURA</button>

        <div id="export-bar" class="export-bar">
            <button class="btn-ex wa" onclick="shareWA()">WhatsApp üõ°Ô∏è</button>
            <button class="btn-ex em" onclick="sendMail()">Email üõ°Ô∏è</button>
            <button class="btn-ex pd" onclick="window.print()">Imprimir / PDF üõ°Ô∏è</button>
        </div>
    </div>

    <div class="donacion-box">
        <h2 style="color: #ffff00; margin-top: 0;">ü§ù FONDO DE SOLIDARIDAD Y EMPLEO</h2>
        <p>Tu donaci√≥n voluntaria crea nuevos medios de trabajo y sostiene esta plataforma para los que no tienen nada.</p>
        <button class="btn-donar" onclick="pagar('donacion')">REALIZAR DONACI√ìN VOLUNTARIA</button>
    </div>
</div>

<script>
    let currentLang = 'es';
    const LEGAL = "Este reporte es emitido por Aura by May Roga LLC, Agencia Informativa Independiente. No somos m√©dicos, ni seguros, ni damos diagn√≥sticos. Reportamos datos de mercado p√∫blicos para el ahorro del consumidor.";

    async function validaAdmin() {
        const fd = new FormData();
        fd.append("user", document.getElementById('adm_u').value);
        fd.append("pw", document.getElementById('adm_p').value);
        const res = await fetch("/login-admin", { method: "POST", body: fd });
        if(res.ok) {
            document.getElementById('paywall').style.display = 'none';
            document.getElementById('sistema-aura').style.display = 'block';
        } else { alert("Acceso Denegado."); }
    }

    if(new URLSearchParams(window.location.search).has('success')) {
        document.getElementById('paywall').style.display = 'none';
        document.getElementById('sistema-aura').style.display = 'block';
    }

    async function getEstimate() {
        const q = document.getElementById('q').value;
        if(!q) return;
        document.getElementById('res').innerText = "Aura localizando el ahorro en bandeja de plata...";
        const fd = new FormData(); fd.append("consulta", q);
        const res = await fetch("/estimado", { method: "POST", body: fd });
        const data = await res.json();
        document.getElementById('res').innerText = data.resultado;
        document.getElementById('export-bar').style.display = 'block';
        document.getElementById('btn-read').style.display = 'block';
    }

    function shareWA() {
        const t = encodeURIComponent("REPORTE AURA:\n" + document.getElementById('res').innerText + "\n\n" + LEGAL);
        window.open("https://wa.me/?text=" + t);
    }

    function readOut() {
        const u = new SpeechSynthesisUtterance(document.getElementById('res').innerText);
        u.lang = currentLang === 'es' ? 'es-US' : 'en-US';
        window.speechSynthesis.speak(u);
    }

    async function pagar(plan) {
        const fd = new FormData(); fd.append("plan", plan);
        const res = await fetch("/create-checkout-session", { method: "POST", body: fd });
        const data = await res.json();
        if(data.url) window.location.href = data.url;
    }

    function listen() {
        const Speech = window.webkitSpeechRecognition || window.SpeechRecognition;
        const rec = new Speech();
        rec.onresult = (e) => { document.getElementById('q').value = e.results[0][0].transcript; };
        rec.start();
    }
</script>
</body>
</html>
