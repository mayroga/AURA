<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aura - Transparencia Total</title>
    <style>
        body { font-family: 'Arial', sans-serif; background: #000; color: #fff; text-align: center; margin: 0; padding: 20px; }
        .card { background: #0a0a0a; border: 2px solid #00d4ff; border-radius: 25px; padding: 35px; max-width: 800px; margin: auto; box-shadow: 0 0 40px #00d4ff44; }
        
        /* Autopropaganda Azul Brillante */
        .promo-box { background: #001122; border-radius: 15px; border: 1px solid #00d4ff; margin: 25px 0; overflow: hidden; padding: 15px; }
        .marquee { display: inline-block; white-space: nowrap; color: #00d4ff; font-size: 1.4rem; font-weight: bold; text-shadow: 0 0 10px #00d4ff; animation: scroll 20s linear infinite; }
        @keyframes scroll { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        .plans { display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; margin: 30px 0; }
        .plan { background: #111; border: 1px solid #333; padding: 20px; border-radius: 20px; width: 200px; }
        .plan h3 { color: #00d4ff; margin-bottom: 5px; }
        
        button { background: #00d4ff; color: #000; border: none; padding: 12px 25px; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 1rem; transition: 0.3s; }
        button:hover { background: #fff; box-shadow: 0 0 20px #00d4ff; }
        
        .search-area { background: #111; padding: 30px; border-radius: 20px; border: 1px solid #00d4ff; margin-top: 30px; }
        input { padding: 12px; border-radius: 8px; border: 1px solid #00d4ff; background: #000; color: #fff; margin: 10px; width: 250px; }
        
        .shield { margin-top: 40px; padding: 20px; background: rgba(0, 212, 255, 0.05); border-radius: 15px; border: 1px solid #004466; font-size: 0.85rem; color: #aaa; }
    </style>
</head>
<body>

<div class="card">
    <h1 style="color: #00d4ff; font-size: 3.5rem; margin: 0;">AURA</h1>
    <p style="color: #666;">by May Roga LLC</p>

    <div style="margin: 20px 0;">
        <button onclick="setLang('es')" style="background:none; color:#00d4ff; border:1px solid #00d4ff; padding:5px 10px; font-size:0.8rem;">Espa√±ol</button>
        <button onclick="setLang('en')" style="background:none; color:#00d4ff; border:1px solid #00d4ff; padding:5px 10px; font-size:0.8rem;">English</button>
        <button onclick="setLang('ht')" style="background:none; color:#00d4ff; border:1px solid #00d4ff; padding:5px 10px; font-size:0.8rem;">Krey√≤l</button>
    </div>

    <div class="promo-box">
        <div class="marquee" id="marquee-text">
            üõ°Ô∏è EVITA COBROS EXCESIVOS ‚Ä¢ üìà PRECIOS POR ZIP CODE Y CONDADO ‚Ä¢ ü¶∑ TRANSPARENCIA EN LOS 50 ESTADOS ‚Ä¢ ü§ù TU CONSULTA AYUDA A OTROS A TRABAJAR ‚Ä¢ üìâ NO PAGUES DE M√ÅS POR TU SALUD
        </div>
    </div>

    <div class="plans">
        <div class="plan">
            <h3 id="p1">R√°pido</h3>
            <p style="font-size: 1.5rem;">$5.99</p>
            <p>7 Minutos</p>
            <button onclick="pay('rapido')">ELEGIR</button>
        </div>
        <div class="plan" style="border-color: #00d4ff;">
            <h3 id="p2">Standard</h3>
            <p style="font-size: 1.5rem;">$9.99</p>
            <p>15 Minutos</p>
            <button onclick="pay('standard')">ELEGIR</button>
        </div>
        <div class="plan">
            <h3 id="p3">Special</h3>
            <p style="font-size: 1.5rem;">$19.99</p>
            <p id="p3-desc">35min / 6min</p>
            <button onclick="pay('special')">ELEGIR</button>
        </div>
    </div>

    <div class="search-area">
        <p style="color: #00d4ff; font-weight: bold;" id="search-title">CONSULTA PREVENTIVA DE COSTOS</p>
        <input type="text" id="zip" placeholder="ZIP Code">
        <input type="text" id="code" placeholder="C√≥digo CPT/CDT">
        <br><br>
        <button onclick="search()" id="search-btn">BUSCAR ESTIMADO</button>
        <div id="res" style="margin-top: 25px; font-size: 1.3rem; color: #00d4ff;"></div>
    </div>

    <div class="shield" id="legal">
        <strong>BLINDAJE LEGAL:</strong> Aura by May Roga LLC es una herramienta informativa. Usamos c√≥digos p√∫blicos oficiales para evitar enga√±os. Tu aporte compra medios de trabajo para necesitados.
    </div>
</div>

<script>
    const API = "https://aura-iyxa.onrender.com";
    const dict = {
        es: { p1: "R√°pido", p2: "Standard", p3: "Special", search: "CONSULTA PREVENTIVA", btn: "BUSCAR", promo: "üõ°Ô∏è EVITA COBROS EXCESIVOS ‚Ä¢ üìà PRECIOS POR ZIP CODE ‚Ä¢ ü§ù AYUDAMOS A TRABAJAR" },
        en: { p1: "Fast", p2: "Standard", p3: "Special", search: "COST CONSULTATION", btn: "SEARCH", promo: "üõ°Ô∏è AVOID OVERCHARGES ‚Ä¢ üìà PRICES BY ZIP CODE ‚Ä¢ ü§ù WE HELP OTHERS WORK" },
        ht: { p1: "Rapido", p2: "Standard", p3: "Special", search: "KONSILTASYON PRI", btn: "CHACHE", promo: "üõ°Ô∏è EVITE DEPAN TRAVAY ‚Ä¢ üìà PRI PA ZIP K√íD ‚Ä¢ ü§ù NOU EDE TRAVAY" }
    };

    function setLang(l) {
        document.getElementById("p1").innerText = dict[l].p1;
        document.getElementById("p2").innerText = dict[l].p2;
        document.getElementById("p3").innerText = dict[l].p3;
        document.getElementById("search-title").innerText = dict[l].search;
        document.getElementById("search-btn").innerText = dict[l].btn;
        document.getElementById("marquee-text").innerText = dict[l].promo;
    }

    async function pay(plan) {
        const fd = new FormData(); fd.append("plan", plan);
        const res = await fetch(`${API}/create-checkout-session`, { method: "POST", body: fd });
        const data = await res.json();
        if(data.url) window.location.href = data.url;
    }

    async function search() {
        const zip = document.getElementById("zip").value;
        const code = document.getElementById("code").value;
        const fd = new FormData(); fd.append("zip_code", zip); fd.append("code", code); fd.append("plan_type", "standard");
        const res = await fetch(`${API}/estimado`, { method: "POST", body: fd });
        const data = await res.json();
        document.getElementById("res").innerHTML = `${data.procedimiento || 'Error'}<br>${data.rango || ''}`;
    }
</script>
</body>
</html>
