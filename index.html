<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aura - Transparencia de Salud</title>
    <style>
        body { font-family: 'Arial', sans-serif; background: #000; color: #fff; margin: 0; padding: 20px; }
        .main-card { background: #0a0a0a; border-radius: 25px; padding: 30px; border: 2px solid #00d4ff; box-shadow: 0 0 20px #00d4ff55; max-width: 850px; margin: auto; }
        
        /* Autopropaganda Ne√≥n Azul - Letras Lindas */
        .promo-box { background: #001a33; border: 1px solid #00d4ff; border-radius: 12px; margin: 20px 0; overflow: hidden; padding: 15px; }
        .promo-text { display: inline-block; white-space: nowrap; color: #00d4ff; font-size: 1.5rem; font-weight: bold; text-shadow: 0 0 10px #00d4ff; animation: scroll 20s linear infinite; }
        @keyframes scroll { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        .btn-lang { background: #111; color: #00d4ff; border: 1px solid #00d4ff; padding: 8px 15px; cursor: pointer; border-radius: 5px; margin: 5px; font-weight: bold; }
        .plan-box { display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; margin: 30px 0; }
        .plan { background: #111; border: 1px solid #333; padding: 20px; border-radius: 15px; width: 220px; transition: 0.3s; }
        .plan:hover { border-color: #00d4ff; }
        
        button.buy-btn { background: #00d4ff; color: #000; border: none; padding: 12px 20px; border-radius: 8px; cursor: pointer; font-weight: bold; width: 100%; }
        .shield { font-size: 0.85rem; color: #aaa; background: #001a33; padding: 20px; border-radius: 15px; margin-top: 30px; border: 1px solid #007bff; line-height: 1.5; }
        
        input { padding: 12px; border-radius: 8px; border: 1px solid #00d4ff; background: #000; color: #fff; margin: 5px; width: 40%; }
    </style>
</head>
<body>

<div class="main-card">
    <h1 style="color: #00d4ff; font-size: 3.5rem; margin: 0; letter-spacing: 5px;">AURA</h1>
    <p style="color: #666; margin-bottom: 20px;">by May Roga LLC</p>

    <div class="lang-btns">
        <button class="btn-lang" onclick="setLang('es')">Espa√±ol</button>
        <button class="btn-lang" onclick="setLang('en')">English</button>
        <button class="btn-lang" onclick="setLang('ht')">Krey√≤l</button>
    </div>

    <div class="promo-box">
        <div class="marquee-text" id="promo">
            üíé NO SOMOS SEGURO: SOMOS TRANSPARENCIA ‚Ä¢ üè• CONOCE EL PRECIO ANTES DE PAGAR ‚Ä¢ ü¶∑ M√âDICOS Y DENTISTAS EN LOS 50 ESTADOS ‚Ä¢ üìâ EVITA ENGA√ëOS CON C√ìDIGOS OFICIALES ‚Ä¢ ü§ù TU CONSULTA AYUDA A OTROS A TRABAJAR
        </div>
    </div>

    <div class="plan-box">
        <div class="plan">
            <h3 id="p1" style="color:#00d4ff">R√°pido</h3>
            <p style="font-size: 1.8rem;">$5.99</p>
            <p id="t1">7 Minutos</p>
            <button class="buy-btn" onclick="pay('rapido')">SELECT</button>
        </div>
        <div class="plan" style="border-color: #00d4ff;">
            <h3 id="p2" style="color:#00d4ff">Standard</h3>
            <p style="font-size: 1.8rem;">$9.99</p>
            <p id="t2">15 Minutos</p>
            <button class="buy-btn" onclick="pay('standard')">SELECT</button>
        </div>
        <div class="plan">
            <h3 id="p3" style="color:#00d4ff">Special</h3>
            <p style="font-size: 1.8rem;">$19.99</p>
            <p id="t3">35min / 6min</p>
            <button class="buy-btn" onclick="pay('special')">SELECT</button>
        </div>
    </div>

    <div style="background: #111; padding: 30px; border-radius: 20px; border: 1px solid #00d4ff;">
        <p id="search-info" style="color: #00d4ff; font-weight: bold; font-size: 1.2rem;">CONSULTA PREVENTIVA DE COSTOS</p>
        <input type="text" id="zip" placeholder="ZIP Code">
        <input type="text" id="code" placeholder="C√≥digo CPT/CDT">
        <br><br>
        <button class="buy-btn" style="width: auto; padding: 15px 40px;" onclick="search()" id="btn-search">BUSCAR ESTIMADO</button>
        <div id="res" style="margin-top: 25px; font-size: 1.4rem; color: #00d4ff; font-weight: bold;"></div>
    </div>

    <div class="shield" id="legal">
        <strong>BLINDAJE LEGAL:</strong> Aura by May Roga LLC no es una agencia m√©dica ni de seguros. Somos una plataforma de transparencia que utiliza c√≥digos p√∫blicos oficiales para evitar que el sistema te enga√±e. Resolvemos la necesidad real de saber cu√°nto vale tu salud antes de recibir el servicio.
    </div>
</div>

<script>
    const API = "https://aura-iyxa.onrender.com";
    const dict = {
        es: {
            promo: "üíé NO SOMOS SEGURO: SOMOS TRANSPARENCIA ‚Ä¢ üè• CONOCE EL PRECIO ANTES DE PAGAR ‚Ä¢ ü¶∑ M√âDICOS Y DENTISTAS EN LOS 50 ESTADOS ‚Ä¢ üìâ EVITA ENGA√ëOS CON C√ìDIGOS OFICIALES ‚Ä¢ ü§ù TU CONSULTA AYUDA A OTROS A TRABAJAR",
            info: "CONSULTA PREVENTIVA DE COSTOS",
            btn: "BUSCAR ESTIMADO",
            legal: "<strong>BLINDAJE LEGAL:</strong> Aura by May Roga LLC no es una agencia m√©dica ni de seguros. Somos transparencia para evitar enga√±os.",
            p1: "R√°pido", p2: "Standard", p3: "Special"
        },
        en: {
            promo: "üíé NOT INSURANCE: WE ARE TRANSPARENCY ‚Ä¢ üè• KNOW THE PRICE BEFORE YOU PAY ‚Ä¢ ü¶∑ DOCTORS & DENTISTS IN ALL 50 STATES ‚Ä¢ üìâ AVOID FRAUD WITH OFFICIAL CODES ‚Ä¢ ü§ù YOUR SEARCH HELPS OTHERS WORK",
            info: "PREVENTIVE COST CONSULTATION",
            btn: "SEARCH ESTIMATE",
            legal: "<strong>LEGAL SHIELD:</strong> Aura by May Roga LLC is not a medical or insurance agency. We are transparency to avoid fraud.",
            p1: "Fast", p2: "Standard", p3: "Special"
        },
        ht: {
            promo: "üíé NOU PA ASIRANS: NOU SE TRANSPARANS ‚Ä¢ üè• KONNEN PRI A ANVAN OU PEYE ‚Ä¢ ü¶∑ DOKT√à AK DANTIS NAN TOUT 50 ETA ‚Ä¢ üìâ EVITE FRAID AK K√íD OFISY√àL ‚Ä¢ ü§ù CHACHE OU EDE L√íT TRAVAY",
            info: "KONSILTASYON PRI PREVANTIF",
            btn: "CHACHE ESTIMASYON",
            legal: "<strong>BLENDAJ LEGAL:</strong> Aura by May Roga LLC se pa yon ajans medikal oswa asirans. Nou se transparans pou evite manti.",
            p1: "Rapido", p2: "Standard", p3: "Special"
        }
    };

    function setLang(l) {
        document.getElementById("promo").innerText = dict[l].promo;
        document.getElementById("search-info").innerText = dict[l].info;
        document.getElementById("btn-search").innerText = dict[l].btn;
        document.getElementById("legal").innerHTML = dict[l].legal;
        document.getElementById("p1").innerText = dict[l].p1;
        document.getElementById("p2").innerText = dict[l].p2;
        document.getElementById("p3").innerText = dict[l].p3;
    }

    async function pay(plan) {
        const fd = new FormData(); fd.append("plan", plan);
        const res = await fetch(`${API}/create-checkout-session`, { method: "POST", body: fd });
        const data = await res.json();
        if(data.url) window.location.href = data.url;
    }

    async function search() {
        const zip = document.getElementById("zip").value;
        const code = document.getElementById("code").value;
        const fd = new FormData(); fd.append("zip_code", zip); fd.append("code", code); fd.append("plan_type", "standard");
        const res = await fetch(`${API}/estimado`, { method: "POST", body: fd });
        const data = await res.json();
        document.getElementById("res").innerHTML = `${data.procedimiento || 'Error'}<br>${data.rango || ''}`;
    }
</script>

</body>
</html>
