<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aura - Agencia Informativa de Salud</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #000; color: #fff; text-align: center; padding: 10px; }
        .container { max-width: 900px; margin: auto; background: #080808; border: 2px solid #00d4ff; border-radius: 35px; padding: 30px; box-shadow: 0 0 40px rgba(0, 212, 255, 0.2); }
        
        /* IDENTIDAD VISUAL SOLICITADA */
        .brand-container { margin-bottom: 20px; }
        .brand-aura { color: #00d4ff; font-size: 4.5rem; margin: 0; letter-spacing: 12px; font-weight: 900; display: block; }
        .brand-legal { color: #fff; font-size: 1.1rem; font-weight: 300; } 
        .company-name { color: #ffff00; font-weight: bold; font-size: 1.4rem; } /* MAY ROGA LLC EN AMARILLO */

        /* BOTONES IDIOMA */
        .lang-bar { display: flex; justify-content: flex-end; gap: 8px; margin-bottom: 15px; }
        .btn-l { background: transparent; color: #00d4ff; border: 1px solid #00d4ff; padding: 6px 12px; cursor: pointer; border-radius: 5px; font-weight: bold; }

        /* PROPAGANDA MUY LENTA (Lectura f√°cil) */
        .marquee-box { background: #001a33; border: 1px solid #00d4ff; border-radius: 15px; margin: 20px 0; overflow: hidden; padding: 20px; }
        .marquee-text { display: inline-block; white-space: nowrap; color: #00d4ff; font-size: 1.6rem; font-weight: 800; animation: scroll 55s linear infinite; text-shadow: 0 0 10px #00d4ff; }
        @keyframes scroll { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        /* BLINDAJE LEGAL CONTRA DEMANDAS */
        .legal-shield { background: #1a0000; border: 2px solid #ff4444; padding: 25px; font-size: 0.95rem; color: #eee; text-align: justify; margin: 30px 0; border-radius: 20px; line-height: 1.5; }
        
        /* INTERFAZ DE CONSULTA */
        .main-box { background: #111; padding: 35px; border-radius: 25px; border: 1px solid #00d4ff; }
        input { padding: 15px; border-radius: 12px; border: 1px solid #00d4ff; background: #000; color: #fff; margin: 8px; width: 42%; font-size: 1.1rem; }
        .btn-go { background: #00d4ff; color: #000; border: none; padding: 18px 40px; border-radius: 12px; cursor: pointer; font-weight: 900; font-size: 1.3rem; margin-top: 15px; }

        /* CONTROLES DE VOZ */
        .voice-controls { display: flex; justify-content: center; gap: 25px; margin-bottom: 20px; }
        .voice-btn { background: #222; border: 2px solid #00d4ff; color: #00d4ff; width: 65px; height: 65px; border-radius: 50%; font-size: 1.8rem; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: 0.3s; }
        .voice-btn:hover { background: #00d4ff; color: #000; }

        /* ACCESO DUE√ëO (DISCRETO) */
        .owner-login { margin-top: 50px; padding-top: 20px; border-top: 1px solid #222; font-size: 0.8rem; }
        .owner-input { width: 100px !important; padding: 5px !important; font-size: 0.8rem !important; }
    </style>
</head>
<body>

<div class="container">
    <div class="lang-bar">
        <button class="btn-l" onclick="changeLang('es')">ES</button>
        <button class="btn-l" onclick="changeLang('en')">EN</button>
        <button class="btn-l" onclick="changeLang('ht')">HT</button>
    </div>

    <div class="brand-container">
        <span class="brand-aura">AURA</span>
        <span class="brand-legal">by <span class="company-name">May Roga LLC</span></span>
    </div>

    <div class="marquee-box">
        <div id="marquee" class="marquee-text">
            üõ°Ô∏è AGENCIA INFORMATIVA: ESTIMADOS DE SALUD ‚Ä¢ NO SOMOS SEGURO ‚Ä¢ COMPARE PRECIOS ANTES DE PAGAR ‚Ä¢ CADA CONSULTA APOYA LA CREACI√ìN DE MEDIOS DE TRABAJO
        </div>
    </div>

    <div id="shield" class="legal-shield">
        <strong>BLINDAJE LEGAL:</strong> Aura by <span style="color:yellow">May Roga LLC</span> es una <u>AGENCIA INFORMATIVA DE ESTIMADOS</u>. NO somos m√©dicos, dentistas, ni proveedores de seguros. No ofrecemos diagn√≥sticos ni tratamientos. Los datos proporcionados son promedios informativos para ayudar al consumidor a comparar costos. El uso de esta herramienta no constituye una relaci√≥n m√©dico-paciente.
    </div>

    <div class="main-box">
        <div class="voice-controls">
            <button class="voice-btn" onclick="startListen()" title="Hablar">üé§</button>
            <button class="voice-btn" onclick="startSpeak()" title="Escuchar">üîä</button>
        </div>

        <input type="text" id="zip" placeholder="ZIP Code">
        <input type="text" id="q" placeholder="Ej: Extracci√≥n, Limpieza, MRI">
        <br>
        <button class="btn-go" onclick="getEstimate()">OBTENER ESTIMADO INFORMATIVO</button>
        <div id="result" style="margin-top: 35px; font-size: 1.7rem; color: #00d4ff; font-weight: bold; line-height: 1.4;"></div>
    </div>

    <div class="owner-login">
        <p style="color:#444">ACCESO ADMINISTRATIVO</p>
        <input type="text" id="adm_u" class="owner-input" placeholder="User">
        <input type="password" id="adm_p" class="owner-input" placeholder="Pass">
        <button onclick="loginOwner()" style="padding:4px 10px; cursor:pointer">Entrar</button>
    </div>

    <p style="color: #666; font-size: 0.8rem; margin-top: 40px;">¬© 2026 <span style="color:yellow">May Roga LLC</span>. Agencia Informativa.</p>
</div>

<script>
    const API = "https://aura-iyxa.onrender.com";
    let isAdmin = false;

    const content = {
        es: {
            marquee: "üõ°Ô∏è AGENCIA INFORMATIVA: ESTIMADOS DE SALUD ‚Ä¢ NO SOMOS SEGURO ‚Ä¢ COMPARE PRECIOS ANTES DE PAGAR ‚Ä¢ CADA CONSULTA APOYA LA CREACI√ìN DE MEDIOS DE TRABAJO",
            shield: "<strong>BLINDAJE LEGAL:</strong> Aura by <span style='color:yellow'>May Roga LLC</span> es una <u>AGENCIA INFORMATIVA DE ESTIMADOS</u>. NO somos m√©dicos, dentistas, ni proveedores de seguros...",
            btn: "OBTENER ESTIMADO INFORMATIVO"
        },
        en: {
            marquee: "üõ°Ô∏è INFORMATION AGENCY: HEALTH ESTIMATES ‚Ä¢ NOT INSURANCE ‚Ä¢ COMPARE PRICES BEFORE YOU PAY ‚Ä¢ EACH CONSULTATION SUPPORTS JOB CREATION",
            shield: "<strong>LEGAL DISCLAIMER:</strong> Aura by <span style='color:yellow'>May Roga LLC</span> is an <u>INFORMATION ESTIMATE AGENCY</u>. WE ARE NOT doctors, dentists, or insurance providers...",
            btn: "GET INFORMATIONAL ESTIMATE"
        },
        ht: {
            marquee: "üõ°Ô∏è AJANS ENF√íMASYON: ESTIMASYON SANTE ‚Ä¢ NOU PA ASIRANS ‚Ä¢ KONPARE PRI ANVAN OU PEYE ‚Ä¢ CHAK KONSILTASYON SIP√íTE KREYASYON TRAVAY",
            shield: "<strong>AV√àTISMAN LEGAL:</strong> Aura pa <span style='color:yellow'>May Roga LLC</span> se yon <u>AJANS ENF√íMASYON ESTIMASYON</u>. NOU PA dokt√®, dantis, oswa founis√® asirans...",
            btn: "JWENN ESTIMASYON ENF√íMASYON"
        }
    };

    function changeLang(l) {
        document.getElementById("marquee").innerText = content[l].marquee;
        document.getElementById("shield").innerHTML = content[l].shield;
        document.querySelector(".btn-go").innerText = content[l].btn;
    }

    function startListen() {
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        if (!SpeechRecognition) return alert("Navegador no soporta voz.");
        const recognition = new SpeechRecognition();
        recognition.lang = 'es-US';
        recognition.onresult = (e) => { document.getElementById("q").value = e.results[0][0].transcript; };
        recognition.start();
    }

    function startSpeak() {
        const text = document.getElementById("result").innerText;
        if (!text) return;
        const speech = new SpeechSynthesisUtterance(text);
        speech.lang = 'es-US';
        window.speechSynthesis.speak(speech);
    }

    async function loginOwner() {
        const fd = new FormData();
        fd.append("username", document.getElementById("adm_u").value);
        fd.append("password", document.getElementById("adm_p").value);
        const res = await fetch(`${API}/login-owner`, { method: "POST", body: fd });
        if(res.ok) { isAdmin = true; alert("Bienvenida, May Roga LLC. Acceso Gratuito Activado."); }
        else { alert("Acceso denegado."); }
    }

    async function getEstimate() {
        const zip = document.getElementById("zip").value;
        const q = document.getElementById("q").value;
        if(!zip || !q) return alert("Por favor complete los datos.");
        
        document.getElementById("result").innerText = "Aura est√° procesando su estimado informativo...";

        const fd = new FormData();
        fd.append("zip_code", zip); fd.append("consulta", q);
        fd.append("is_admin", isAdmin);
        fd.append("facility", "office"); fd.append("plan_type", "standard");

        try {
            const res = await fetch(`${API}/estimado`, { method: "POST", body: fd });
            const data = await res.json();
            document.getElementById("result").innerHTML = data.estimado;
        } catch (e) {
            document.getElementById("result").innerText = "Error al conectar con la Agencia Informativa.";
        }
    }
</script>
</body>
</html>
