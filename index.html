<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aura - Transparencia de Salud en USA</title>
    <style>
        :root {
            --aura-blue: #00d4ff;
            --aura-dark: #0a0a0a;
            --aura-card: #111111;
        }

        body { 
            font-family: 'Segoe UI', Arial, sans-serif; 
            background-color: #000; 
            color: #fff; 
            margin: 0; 
            padding: 20px; 
            line-height: 1.6;
        }

        .main-container { 
            max-width: 850px; 
            margin: auto; 
            background: var(--aura-dark); 
            border: 2px solid var(--aura-blue); 
            border-radius: 30px; 
            padding: 40px; 
            box-shadow: 0 0 30px rgba(0, 212, 255, 0.2); 
        }

        /* Autopropaganda Azul Ne√≥n Animada */
        .marquee-container { 
            background: #001a33; 
            border: 1px solid var(--aura-blue); 
            border-radius: 15px; 
            margin: 25px 0; 
            overflow: hidden; 
            padding: 15px; 
        }

        .marquee-text { 
            display: inline-block; 
            white-space: nowrap; 
            color: var(--aura-blue); 
            font-size: 1.5rem; 
            font-weight: bold; 
            text-shadow: 0 0 10px var(--aura-blue); 
            animation: scroll-text 20s linear infinite; 
        }

        @keyframes scroll-text {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        /* Botones de Traducci√≥n */
        .lang-selector { margin-bottom: 25px; }
        .btn-lang { 
            background: transparent; 
            color: var(--aura-blue); 
            border: 1px solid var(--aura-blue); 
            padding: 8px 15px; 
            border-radius: 8px; 
            cursor: pointer; 
            margin: 0 5px; 
            font-weight: bold;
            transition: 0.3s;
        }
        .btn-lang:hover { background: var(--aura-blue); color: #000; }

        /* Planes de Acceso */
        .plans-grid { 
            display: flex; 
            gap: 20px; 
            justify-content: center; 
            flex-wrap: wrap; 
            margin: 40px 0; 
        }

        .plan-card { 
            background: var(--aura-card); 
            border: 1px solid #333; 
            border-radius: 20px; 
            padding: 25px; 
            width: 220px; 
            transition: 0.3s; 
        }
        .plan-card:hover { border-color: var(--aura-blue); transform: scale(1.03); }
        .plan-card h3 { color: var(--aura-blue); margin-top: 0; }
        .price { font-size: 2rem; font-weight: bold; margin: 15px 0; }

        .btn-buy { 
            background: var(--aura-blue); 
            color: #000; 
            border: none; 
            padding: 12px 25px; 
            border-radius: 10px; 
            font-weight: bold; 
            cursor: pointer; 
            width: 100%; 
            font-size: 1rem;
        }

        /* Buscador */
        .search-section { 
            background: var(--aura-card); 
            padding: 30px; 
            border-radius: 20px; 
            border: 1px solid var(--aura-blue); 
            margin-top: 40px;
        }

        input { 
            padding: 15px; 
            border-radius: 10px; 
            border: 1px solid var(--aura-blue); 
            background: #000; 
            color: #fff; 
            width: 80%; 
            max-width: 300px; 
            margin: 10px; 
            font-size: 1rem;
        }

        /* Blindaje Legal */
        .legal-shield { 
            margin-top: 50px; 
            padding: 20px; 
            font-size: 0.85rem; 
            color: #888; 
            border-top: 1px solid #222; 
            text-align: justify;
        }
    </style>
</head>
<body>

<div class="main-container">
    <h1 style="color: var(--aura-blue); font-size: 4rem; margin: 0; letter-spacing: 8px;">AURA</h1>
    <p style="color: #555; margin-bottom: 20px;">By May Roga LLC</p>

    <div class="lang-selector">
        <button class="btn-lang" onclick="changeLang('es')">Espa√±ol</button>
        <button class="btn-lang" onclick="changeLang('en')">English</button>
        <button class="btn-lang" onclick="changeLang('ht')">Krey√≤l</button>
    </div>

    <div class="marquee-container">
        <div class="marquee-text" id="marquee">
            üíé NO SOMOS SEGURO: SOMOS TRANSPARENCIA ‚Ä¢ üè• CONOCE EL PRECIO ANTES DE PAGAR ‚Ä¢ ü¶∑ M√âDICOS Y DENTISTAS EN LOS 50 ESTADOS ‚Ä¢ üìâ EVITA ENGA√ëOS CON C√ìDIGOS OFICIALES ‚Ä¢ ü§ù TU CONSULTA AYUDA A OTROS A TRABAJAR
        </div>
    </div>

    <div class="plans-grid">
        <div class="plan-card">
            <h3 id="txt-p1">R√°pido</h3>
            <div class="price">$5.99</div>
            <p id="txt-t1">7 Minutos de acceso</p>
            <button class="btn-buy" onclick="handlePayment('rapido')">ELEGIR</button>
        </div>
        <div class="plan-card" style="border-color: var(--aura-blue);">
            <h3 id="txt-p2">Standard</h3>
            <div class="price">$9.99</div>
            <p id="txt-t2">15 Minutos de acceso</p>
            <button class="btn-buy" onclick="handlePayment('standard')">ELEGIR</button>
        </div>
        <div class="plan-card">
            <h3 id="txt-p3">Special</h3>
            <div class="price">$19.99/mes</h3>
            <p id="txt-t3">35min (D√≠a 1-2) / 6min (Resto)</p>
            <button class="btn-buy" onclick="handlePayment('special')">SUSCRIBIRSE</button>
        </div>
    </div>

    <div class="search-section">
        <h3 id="txt-search-head" style="color: var(--aura-blue);">SABE EL COSTO ANTES DE IR AL M√âDICO</h3>
        <input type="text" id="zip_input" placeholder="ZIP Code">
        <input type="text" id="code_input" placeholder="C√≥digo (Ej: D1110)">
        <br>
        <button class="btn-buy" style="width: auto; padding: 15px 50px; margin-top: 15px;" onclick="getEstimate()" id="txt-btn-search">BUSCAR ESTIMADO</button>
        <div id="results" style="margin-top: 30px; font-size: 1.3rem; font-weight: bold; color: var(--aura-blue);"></div>
    </div>

    <div class="legal-shield" id="txt-legal">
        <strong>BLINDAJE LEGAL:</strong> Aura by May Roga LLC no es una agencia m√©dica ni un seguro. Somos una herramienta de transparencia que utiliza c√≥digos p√∫blicos oficiales para evitar que seas v√≠ctima de sobrecargos o falta de informaci√≥n. Al usar nuestra app, apoyas una cadena de favores comprando medios de trabajo para quienes lo necesitan.
    </div>
</div>

<script>
    const SERVER_URL = "https://aura-iyxa.onrender.com";
    
    const translations = {
        es: {
            marquee: "üíé NO SOMOS SEGURO: SOMOS TRANSPARENCIA ‚Ä¢ üè• CONOCE EL PRECIO ANTES DE PAGAR ‚Ä¢ ü¶∑ M√âDICOS Y DENTISTAS EN LOS 50 ESTADOS ‚Ä¢ üìâ EVITA ENGA√ëOS CON C√ìDIGOS OFICIALES ‚Ä¢ ü§ù TU CONSULTA AYUDA A OTROS A TRABAJAR",
            p1: "R√°pido", p2: "Standard", p3: "Special",
            t1: "7 Minutos de acceso", t2: "15 Minutos de acceso", t3: "35min (D√≠a 1-2) / 6min (Resto)",
            searchHead: "SABE EL COSTO ANTES DE IR AL M√âDICO",
            btnSearch: "BUSCAR ESTIMADO",
            legal: "<strong>BLINDAJE LEGAL:</strong> Aura by May Roga LLC no es una agencia m√©dica ni un seguro. Somos una herramienta de transparencia para evitar enga√±os."
        },
        en: {
            marquee: "üíé NOT INSURANCE: WE ARE TRANSPARENCY ‚Ä¢ üè• KNOW THE PRICE BEFORE YOU PAY ‚Ä¢ ü¶∑ DOCTORS & DENTISTS IN ALL 50 STATES ‚Ä¢ üìâ AVOID FRAUD WITH OFFICIAL CODES ‚Ä¢ ü§ù YOUR SEARCH HELPS OTHERS WORK",
            p1: "Quick", p2: "Standard", p3: "Special",
            t1: "7 Minutes of access", t2: "15 Minutes of access", t3: "35min (Day 1-2) / 6min (Rest)",
            searchHead: "KNOW THE COST BEFORE YOU GO",
            btnSearch: "SEARCH ESTIMATE",
            legal: "<strong>LEGAL SHIELD:</strong> Aura by May Roga LLC is not a medical or insurance agency. We are a transparency tool to avoid fraud."
        },
        ht: {
            marquee: "üíé NOU PA ASIRANS: NOU SE TRANSPARANS ‚Ä¢ üè• KONNEN PRI A ANVAN OU PEYE ‚Ä¢ ü¶∑ DOKT√à AK DANTIS NAN TOUT 50 ETA ‚Ä¢ üìâ EVITE FRAID AK K√íD OFISY√àL ‚Ä¢ ü§ù CHACHE OU EDE L√íT TRAVAY",
            p1: "Rapido", p2: "Standard", p3: "Special",
            t1: "7 Minit aks√®", t2: "15 Minit aks√®", t3: "35min (Jou 1-2) / 6min (R√®s)",
            searchHead: "KONNEN PRI A ANVAN OU ALE",
            btnSearch: "CHACHE ESTIMASYON",
            legal: "<strong>BLENDAJ LEGAL:</strong> Aura by May Roga LLC se pa yon ajans medikal oswa asirans. Nou se transparans pou evite manti."
        }
    };

    function changeLang(lang) {
        const t = translations[lang];
        document.getElementById('marquee').innerText = t.marquee;
        document.getElementById('txt-p1').innerText = t.p1;
        document.getElementById('txt-p2').innerText = t.p2;
        document.getElementById('txt-p3').innerText = t.p3;
        document.getElementById('txt-t1').innerText = t.t1;
        document.getElementById('txt-t2').innerText = t.t2;
        document.getElementById('txt-t3').innerText = t.t3;
        document.getElementById('txt-search-head').innerText = t.searchHead;
        document.getElementById('txt-btn-search').innerText = t.btnSearch;
        document.getElementById('txt-legal').innerHTML = t.legal;
    }

    async function handlePayment(plan) {
        const formData = new FormData();
        formData.append("plan", plan);

        try {
            const response = await fetch(`${SERVER_URL}/create-checkout-session`, {
                method: "POST",
                body: formData
            });
            const data = await response.json();
            if (data.url) window.location.href = data.url;
            else alert("Error al conectar con la pasarela de pago.");
        } catch (e) {
            alert("Error de conexi√≥n con el servidor.");
        }
    }

    async function getEstimate() {
        const zip = document.getElementById("zip_input").value;
        const code = document.getElementById("code_input").value;
        if (!zip || !code) return alert("Por favor complete los campos.");

        const formData = new FormData();
        formData.append("zip_code", zip);
        formData.append("code", code);
        formData.append("plan_type", "standard");

        document.getElementById("results").innerText = "Consultando base de datos...";

        try {
            const response = await fetch(`${SERVER_URL}/estimado`, {
                method: "POST",
                body: formData
            });
            const data = await response.json();
            if (data.rango) {
                document.getElementById("results").innerHTML = `
                    <div style="color:#fff">${data.procedimiento}</div>
                    <div style="font-size:2.5rem">${data.rango}</div>
                    <div style="font-size:0.9rem; color:#555">${data.ubicacion}</div>
                `;
            } else {
                document.getElementById("results").innerText = data.error || "No encontrado.";
            }
        } catch (e) {
            document.getElementById("results").innerText = "Error en la b√∫squeda.";
        }
    }
</script>

</body>
</html>
